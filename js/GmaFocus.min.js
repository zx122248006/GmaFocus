!function(i,t,e,n){let o=function(t,e){this.$elemnet=t,this.defaults={effect:"slide",autoMove:"true",showBtn:"true",showIndex:"true",autoTime:"3500",clickTime:"500",imgWidth:"800px",imgHeight:"500px"},this.options=i.extend({},this.defaults,e)};o.prototype={Gma_Focus:function(){let t=0,n=this.options.clickTime,o=this.options.autoTime,s=this.$elemnet,l=this.options,c=s.find(".centerbox li").length,a=parseInt(this.options.imgWidth),f=s.find(".centerbox"),d=c*a,u="all "+l.clickTime/1e3+"s",h="on";o<=1e3&&(o=2500),e.onvisibilitychange=function(){console.log("hidden:"+e.hidden),console.log("visibilityState:"+e.visibilityState)},1==c&&(l.autoMove="flase",l.showBtn="flase",l.showIndex="flase"),2==c&&(l.effect="fade"),s.find(".centerbox").css("width",d),s.css("width",a),s.find(".centerbox li").css({width:l.imgWidth,height:l.imgHeight});{function r(){p(++t>c-1?t=0:t)}function p(i){let t=s.find(".fbtn ul li"),e=i*a;"slide"==l.effect?f.stop(!0,!0).animate({left:"-"+e+"px"},n):"fade"==l.effect&&f.find("li").eq(i).css({opacity:"1"}).siblings().css({opacity:"0"}),t.removeClass(h).eq(i).addClass(h)}}if("fade"==l.effect){let i=s.find(".centerbox li");i.css({transition:u,opacity:"0"}),i.eq(0).css({opacity:"1"}),s.css({position:"relative"}),i.css({position:"absolute"}),f.css({width:l.imgWidth,height:l.imgHeight})}if("true"==l.showBtn){let i=s.find(".prev"),e=s.find(".next");e.click(function(){f.is(":animated")||p(++t>c-1?t=0:t)}),i.click(function(){s.find(".centerbox").is(":animated")||p(--t<0?t=c-1:t)}),s.hover(function(){i.stop(!0,!0).animate({opacity:"0.8"}),e.stop(!0,!0).animate({opacity:"0.8"})},function(){i.stop(!0,!0).animate({opacity:"0"}),e.stop(!0,!0).animate({opacity:"0"})})}else"flase"==l.showBtn&&s.find(".Gma-Focus-btn").remove();if("true"==l.showIndex){s.find(".Gma-focus").append('<div class="fbtn"></div>').find(".fbtn").append("<ul></ul>"),$liNum=s.find(".centerbox li");for(let i=0;i<$liNum.length;i++)0==i?s.find(".fbtn ul").append('<li class="'+h+'"><a href="javascript:void(0)"></a></li>'):s.find(".fbtn ul").append('<li><a href="javascript:void(0)"></a></li>');let e=s.find(".fbtn ul li");e.on("click",function(){let n=i(this).index();return p(n),e.removeClass(h).eq(n).addClass(h),t=n})}if("true"==l.autoMove){b=0;var m=setInterval(function(){b++,console.log(b),r()},o);console.log("设置定时器"),s.hover(function(){clearInterval(m),console.log("停止定时器")},function(){console.log("设置定时器"),m=setInterval(function(){b++,console.log(b),r()},o)})}}},i.fn.GmaFocus=function(i){return new o(this,i).Gma_Focus()}}(jQuery,window,document);